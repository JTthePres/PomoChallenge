<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="description" content="App metodo concentrazione pomodoro">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <link rel="icon" type="image/x-icon" href="../style/img/tomato.png">

    <link rel="stylesheet" href="../style/homeStyle/defaultStyle.css">
    <link rel="stylesheet" href="../bootstrap/dist/css/bootstrap.css" >
    <link rel="stylesheet" href="../style/loginStyle/signupStyle.css" >
    <link rel="stylesheet" href="../style/loginStyle/responsiveSignupStyle.css" >
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css"  crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>
    <script src="../bootstrap/dist/js/bootstrap.bundle.min.js" ></script>    
    <script  src="../script/loginScript/signScript.js"></script>

    <script>
        $(function(){
          $("#mynavbar").load("./oldNavbar.html");
        });

    </script>
</head>

<body>
    <div id="mynavbar"></div>
    <!--<div class="container">-->
        <div class="cnt">
        <div id="signupPanel">
            <FORM method="post" id="submitSignForm" action="../server/signUp.php" onsubmit="handleSubmit(event)"> 
                <div class="imgContainer">
                    <INPUT type="IMAGE" class="imgAvatar" SRC="../style/img/pomo.png">
                    </input>
                </div>

                <div class="infoPanel">
                
                    <fieldset name="infoSignField">
                        <legend>  Submit information </legend>
                            <b>Username</b>
                            <br>
                        <input type="text" name="userSignInput" id="userSignInput" placeholder=" Insert your username" required="true">
                        <br>

                            <b>Password</b>  
                            <br>
                        <input type="password" name="passwordSignInput" id="passwordSignInput" placeholder="Insert password" required="true" >
                        <img id="visibleSignPassword" src ="../style/img/eye-slash-solid.png" onclick="showPassword()" >
                        </img>
                        <br>

                        <b>Confirm password</b>  
                            <br>
                        <input type="password" name="confirmPasswordSignInput" id="confirmPasswordSignInput" placeholder="Insert password" required="true" onkeypress="handleKeyPress(event)">
                        <br>

                        <input type="submit" id="submitSignBtn" class="loginButton">
                        <button id="clearSignBtn" class="loginButton" onclick="resetField()">
                            Clear 
                        </button>
                        
                        <br>
                        <p>
                            Already signed up?
                            <a href="./loginForm.html">
                            Log in
                            </a>
                        </p>

                    </fieldset>
                </div>
            </FORM>
        </div>
   <!-- </div>--></div>
</body>
</html>
<script>
    window.onload = function() {
    if (new URLSearchParams(window.location.search).get('signup') === 'failed1') {
alert('Registrazione non riuscita, cambia username.');
const newUrl = new URL(window.location.href);
newUrl.searchParams.delete('signup');
window.history.replaceState({}, '', newUrl);
}
if (new URLSearchParams(window.location.search).get('signup') === 'failed2') {
alert('Registrazione non riuscita, riprova.');
const newUrl = new URL(window.location.href);
newUrl.searchParams.delete('signup');
window.history.replaceState({}, '', newUrl);
}
}
</script>